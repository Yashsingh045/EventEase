---
const currentPath = Astro.url.pathname;
---

<aside
    id="sidebar"
    class="fixed inset-y-0 left-0 z-50 w-80 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 -translate-x-full shadow-lg"
>
    <div
        class="flex items-center justify-between h-18 px-6 border-b border-gray-200 bg-gray-50"
    >
        <a
            href="/"
            class="text-2xl font-black text-blue-600 tracking-tight"
            style="font-family: 'Space Grotesk', sans-serif;"
        >
            EventEase
        </a>
        <button
            id="closeSidebar"
            class="lg:hidden text-gray-500 hover:text-gray-900 text-2xl font-bold"
        >
            âœ•
        </button>
    </div>

    <div class="px-6 py-6 border-b border-gray-200 bg-blue-50">
        <div class="flex items-center gap-4">
            <div class="avatar placeholder">
                <div
                    class="bg-blue-400 text-white w-14 h-14 shadow-lg ring-2 ring-white ring-offset-2 rounded-none flex items-center justify-center"
                >
                    <span
                        id="org-sidebar-initials"
                        class="text-3xl font-bold"
                        style="font-family: 'Poppins', sans-serif;">...</span
                    >
                </div>
            </div>
            <div>
                <h3
                    id="org-sidebar-name"
                    class="font-bold text-lg text-gray-900"
                    style="font-family: 'Poppins', sans-serif;"
                >
                    Loading...
                </h3>
                <p
                    id="org-sidebar-email"
                    class="text-sm text-gray-500 font-medium"
                >
                    ...
                </p>
            </div>
        </div>
    </div>

    <div class="flex-1 flex flex-col overflow-y-auto px-6 py-6">
        <nav class="space-y-2 flex-1">
            <a
                href="/organiser"
                class="nav-link block px-4 py-3 text-gray-500 relative overflow-hidden transition-all hover:text-gray-800 hover:bg-gray-100 hover:translate-x-1 [&.active]:text-blue-600 [&.active]:bg-blue-50 [&.active]:font-bold [&.active]:border-l-4 [&.active]:border-blue-600 active"
                data-page="overview"><span>Overview</span></a
            >
            <a
                href="#"
                id="nav-events"
                class="nav-link block px-4 py-3 text-gray-500 relative overflow-hidden transition-all hover:text-gray-800 hover:bg-gray-100 hover:translate-x-1 [&.active]:text-blue-600 [&.active]:bg-blue-50 [&.active]:font-bold [&.active]:border-l-4 [&.active]:border-blue-600"
                data-page="events"><span>My Events</span></a
            >
            <a
                href="#"
                id="nav-create"
                class="nav-link block px-4 py-3 text-gray-500 relative overflow-hidden transition-all hover:text-gray-800 hover:bg-gray-100 hover:translate-x-1 [&.active]:text-blue-600 [&.active]:bg-blue-50 [&.active]:font-bold [&.active]:border-l-4 [&.active]:border-blue-600"
                data-page="create"><span>Create Event</span></a
            >
            <a
                href="#"
                id="nav-attendees"
                class="nav-link block px-4 py-3 text-gray-500 relative overflow-hidden transition-all hover:text-gray-800 hover:bg-gray-100 hover:translate-x-1 [&.active]:text-blue-600 [&.active]:bg-blue-50 [&.active]:font-bold [&.active]:border-l-4 [&.active]:border-blue-600"
                data-page="attendees"><span>Attendees</span></a
            >
            <a
                href="/dashboard"
                id="userDashboardLink"
                class="nav-link block px-4 py-3 text-gray-500 relative overflow-hidden transition-all hover:text-gray-800 hover:bg-gray-100 hover:translate-x-1 hidden"
                ><span>Back to User Dashboard</span></a
            >
        </nav>

        <div class="border-t border-gray-200 pt-4 mt-4">
            <a href="/login" class="nav-link"><span>Logout</span></a>
        </div>
    </div>
</aside>
